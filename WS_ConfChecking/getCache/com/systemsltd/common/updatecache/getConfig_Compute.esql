BROKER SCHEMA com.systemsltd.common.updatecache
PATH com.systemsltd.common.cache;

CREATE COMPUTE MODULE getConfig_Compute
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		
		DECLARE CacheName CHARACTER CAST(InputRoot.JSON.Data.CacheName AS CHARACTER);
		DECLARE Key CHARACTER CAST(InputRoot.JSON.Data.key AS CHARACTER);
		
		CREATE FIELD OutputRoot.JSON.Data.value;
		SET OutputRoot.JSON.Data.value = readFromCache(CacheName,Key);
		
		RETURN TRUE;
	END;
END MODULE;
